{"version":3,"file":"css.mjs","sources":["../../../../src/view/utils/css.ts"],"sourcesContent":["let pendingRules: Record<string, Record<string, string>> = {}\n\nlet style: HTMLStyleElement | null = null\n\nexport const css = {\n    set: (selector: string, values: Record<string, string>) => {\n        pendingRules[selector] = values\n    },\n\n    commit: () => {\n        if (!style) {\n            style = document.createElement(\"style\")\n            style.id = \"motion-view\"\n        }\n\n        let cssText = \"\"\n\n        for (const selector in pendingRules) {\n            const rule = pendingRules[selector]\n            cssText += `${selector} {\\n`\n            for (const [property, value] of Object.entries(rule)) {\n                cssText += `  ${property}: ${value};\\n`\n            }\n            cssText += \"}\\n\"\n        }\n\n        style.textContent = cssText\n        document.head.appendChild(style)\n\n        pendingRules = {}\n    },\n\n    remove: () => {\n        if (style && style.parentElement) {\n            style.parentElement.removeChild(style)\n        }\n    },\n}\n"],"names":[],"mappings":"AAAA,IAAI,YAAY,GAA2C,EAAE,CAAA;AAE7D,IAAI,KAAK,GAA4B,IAAI,CAAA;AAE5B,MAAA,GAAG,GAAG;AACf,IAAA,GAAG,EAAE,CAAC,QAAgB,EAAE,MAA8B,KAAI;AACtD,QAAA,YAAY,CAAC,QAAQ,CAAC,GAAG,MAAM,CAAA;KAClC;IAED,MAAM,EAAE,MAAK;QACT,IAAI,CAAC,KAAK,EAAE;AACR,YAAA,KAAK,GAAG,QAAQ,CAAC,aAAa,CAAC,OAAO,CAAC,CAAA;AACvC,YAAA,KAAK,CAAC,EAAE,GAAG,aAAa,CAAA;SAC3B;QAED,IAAI,OAAO,GAAG,EAAE,CAAA;AAEhB,QAAA,KAAK,MAAM,QAAQ,IAAI,YAAY,EAAE;AACjC,YAAA,MAAM,IAAI,GAAG,YAAY,CAAC,QAAQ,CAAC,CAAA;AACnC,YAAA,OAAO,IAAI,CAAA,EAAG,QAAQ,CAAA,IAAA,CAAM,CAAA;AAC5B,YAAA,KAAK,MAAM,CAAC,QAAQ,EAAE,KAAK,CAAC,IAAI,MAAM,CAAC,OAAO,CAAC,IAAI,CAAC,EAAE;AAClD,gBAAA,OAAO,IAAI,CAAK,EAAA,EAAA,QAAQ,CAAK,EAAA,EAAA,KAAK,KAAK,CAAA;aAC1C;YACD,OAAO,IAAI,KAAK,CAAA;SACnB;AAED,QAAA,KAAK,CAAC,WAAW,GAAG,OAAO,CAAA;AAC3B,QAAA,QAAQ,CAAC,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,CAAA;QAEhC,YAAY,GAAG,EAAE,CAAA;KACpB;IAED,MAAM,EAAE,MAAK;AACT,QAAA,IAAI,KAAK,IAAI,KAAK,CAAC,aAAa,EAAE;AAC9B,YAAA,KAAK,CAAC,aAAa,CAAC,WAAW,CAAC,KAAK,CAAC,CAAA;SACzC;KACJ;;;;;"}
{"version":3,"names":["addDeprecatedGenerators","PrinterClass","deprecatedBabel7Generators","Noop","TSExpressionWithTypeArguments","node","print","expression","typeParameters","DecimalLiteral","raw","getPossibleRaw","format","minified","undefined","word","value","RecordExpression","props","properties","startToken","endToken","recordAndTupleSyntaxType","Error","JSON","stringify","token","length","space","printList","shouldPrintTrailingComma","TupleExpression","elems","elements","len","i","elem","Object","assign","prototype"],"sources":["../../src/generators/deprecated.ts"],"sourcesContent":["import type Printer from \"../printer\";\nimport type * as t from \"@babel/types\";\n\nexport type DeprecatedBabel7ASTTypes =\n  | \"Noop\"\n  | \"TSExpressionWithTypeArguments\"\n  | \"DecimalLiteral\"\n  | \"RecordExpression\"\n  | \"TupleExpression\";\n\nexport function addDeprecatedGenerators(PrinterClass: typeof Printer) {\n  // Add Babel 7 generator methods that is removed in Babel 8\n  if (!process.env.BABEL_8_BREAKING) {\n    const deprecatedBabel7Generators = {\n      Noop(this: Printer) {},\n\n      TSExpressionWithTypeArguments(\n        this: Printer,\n        // @ts-ignore(Babel 7 vs Babel 8) Babel 7 AST\n        node: t.TSExpressionWithTypeArguments,\n      ) {\n        this.print(node.expression);\n        this.print(node.typeParameters);\n      },\n\n      DecimalLiteral(this: Printer, node: any) {\n        const raw = this.getPossibleRaw(node);\n        if (!this.format.minified && raw !== undefined) {\n          this.word(raw);\n          return;\n        }\n        this.word(node.value + \"m\");\n      },\n\n      // @ts-ignore(Babel 7 vs Babel 8) - t.RecordExpression only exists in Babel 7\n      RecordExpression(this: Printer, node: t.RecordExpression) {\n        const props = node.properties;\n\n        let startToken;\n        let endToken;\n\n        if (this.format.recordAndTupleSyntaxType === \"bar\") {\n          startToken = \"{|\";\n          endToken = \"|}\";\n        } else if (\n          this.format.recordAndTupleSyntaxType !== \"hash\" &&\n          this.format.recordAndTupleSyntaxType != null\n        ) {\n          throw new Error(\n            `The \"recordAndTupleSyntaxType\" generator option must be \"bar\" or \"hash\" (${JSON.stringify(\n              this.format.recordAndTupleSyntaxType,\n            )} received).`,\n          );\n        } else {\n          startToken = \"#{\";\n          endToken = \"}\";\n        }\n\n        this.token(startToken);\n\n        if (props.length) {\n          this.space();\n          this.printList(\n            props,\n            this.shouldPrintTrailingComma(endToken),\n            true,\n            true,\n          );\n          this.space();\n        }\n        this.token(endToken);\n      },\n\n      // @ts-ignore(Babel 7 vs Babel 8) - t.TupleExpression only exists in Babel 7\n      TupleExpression(this: Printer, node: t.TupleExpression) {\n        const elems = node.elements;\n        const len = elems.length;\n\n        let startToken;\n        let endToken;\n        if (process.env.BABEL_8_BREAKING) {\n          startToken = \"#[\";\n          endToken = \"]\";\n        } else {\n          if (this.format.recordAndTupleSyntaxType === \"bar\") {\n            startToken = \"[|\";\n            endToken = \"|]\";\n          } else if (this.format.recordAndTupleSyntaxType === \"hash\") {\n            startToken = \"#[\";\n            endToken = \"]\";\n          } else {\n            throw new Error(\n              `${this.format.recordAndTupleSyntaxType} is not a valid recordAndTuple syntax type`,\n            );\n          }\n        }\n\n        this.token(startToken);\n\n        for (let i = 0; i < elems.length; i++) {\n          const elem = elems[i];\n          if (elem) {\n            if (i > 0) this.space();\n            this.print(elem);\n            if (i < len - 1 || this.shouldPrintTrailingComma(endToken)) {\n              this.token(\",\", false, i);\n            }\n          }\n        }\n\n        this.token(endToken);\n      },\n    } satisfies Record<\n      DeprecatedBabel7ASTTypes,\n      (this: Printer, node: any) => void\n    >;\n    Object.assign(PrinterClass.prototype, deprecatedBabel7Generators);\n  }\n}\n"],"mappings":"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","ignoreList":[]}